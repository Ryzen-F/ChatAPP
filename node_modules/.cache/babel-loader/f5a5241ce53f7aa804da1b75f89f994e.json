{"remainingRequest":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\src\\store\\actions.js","dependencies":[{"path":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\src\\store\\actions.js","mtime":1577460794035},{"path":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcQWRhbVxcUGhwc3Rvcm1Qcm9qZWN0c1xcRkRJLUJXRUJcXHVudGl0bGVkM1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBjaGF0a2l0IGZyb20gJy4uL2NoYXRraXQnOyAvLyBIZWxwZXIgZnVuY3Rpb24gZm9yIGRpc3BsYXlpbmcgZXJyb3IgbWVzc2FnZXMKCmZ1bmN0aW9uIGhhbmRsZUVycm9yKGNvbW1pdCwgZXJyb3IpIHsKICB2YXIgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IuaW5mby5lcnJvcl9kZXNjcmlwdGlvbjsKICBjb21taXQoJ3NldEVycm9yJywgbWVzc2FnZSk7Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBjaGFuZ2VSb29tOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2NoYW5nZVJvb20gPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgcm9vbUlkKSB7CiAgICAgIHZhciBjb21taXQsIF9yZWYyLCBpZCwgbmFtZTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gY2hhdGtpdC5zdWJzY3JpYmVUb1Jvb20ocm9vbUlkKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgaWQgPSBfcmVmMi5pZDsKICAgICAgICAgICAgICBuYW1lID0gX3JlZjIubmFtZTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEFjdGl2ZVJvb20nLCB7CiAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBoYW5kbGVFcnJvcihjb21taXQsIF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTBdXSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gY2hhbmdlUm9vbShfeCwgX3gyKSB7CiAgICAgIHJldHVybiBfY2hhbmdlUm9vbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBjaGFuZ2VSb29tOwogIH0oKSwKICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gKCkgewogICAgdmFyIF9zZW5kTWVzc2FnZSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoX3JlZjMsIG1lc3NhZ2UpIHsKICAgICAgdmFyIGNvbW1pdCwgbWVzc2FnZUlkOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRFcnJvcicsICcnKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldFNlbmRpbmcnLCB0cnVlKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIGNoYXRraXQuc2VuZE1lc3NhZ2UobWVzc2FnZSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgbWVzc2FnZUlkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG1lc3NhZ2VJZCk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIGhhbmRsZUVycm9yKGNvbW1pdCwgX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMzsKICAgICAgICAgICAgICBjb21taXQoJ3NldFNlbmRpbmcnLCBmYWxzZSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTMpOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDEwLCAxMywgMTZdXSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoX3gzLCBfeDQpIHsKICAgICAgcmV0dXJuIF9zZW5kTWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBzZW5kTWVzc2FnZTsKICB9KCksCiAgbG9nb3V0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2xvZ291dCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgY29tbWl0KCdyZXNldCcpOwogICAgICAgICAgICAgIGNoYXRraXQuZGlzY29ubmVjdFVzZXIoKTsKICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbG9nb3V0KF94NSkgewogICAgICByZXR1cm4gX2xvZ291dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBsb2dvdXQ7CiAgfSgpLAogIGxvZ2luOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2xvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChfcmVmNSwgdXNlcklkKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCBjdXJyZW50VXNlciwgcm9vbXMsIGFjdGl2ZVJvb207CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0LCBzdGF0ZSA9IF9yZWY1LnN0YXRlOwogICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEVycm9yJywgJycpOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0TG9hZGluZycsIHRydWUpOyAvLyBDb25uZWN0IHVzZXIgdG8gQ2hhdEtpdCBzZXJ2aWNlCgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gY2hhdGtpdC5jb25uZWN0VXNlcih1c2VySWQpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyJywgewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IGN1cnJlbnRVc2VyLmlkLAogICAgICAgICAgICAgICAgbmFtZTogY3VycmVudFVzZXIubmFtZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0UmVjb25uZWN0JywgZmFsc2UpOwogICAgICAgICAgICAgIHJvb21zID0gY3VycmVudFVzZXIucm9vbXMubWFwKGZ1bmN0aW9uIChyb29tKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBpZDogcm9vbS5pZCwKICAgICAgICAgICAgICAgICAgbmFtZTogcm9vbS5uYW1lCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0Um9vbXMnLCByb29tcyk7IC8vIFN1YnNjcmliZSB1c2VyIHRvIGEgcm9vbQoKICAgICAgICAgICAgICBhY3RpdmVSb29tID0gc3RhdGUuYWN0aXZlUm9vbSB8fCByb29tc1swXTsgLy8gcGljayBsYXN0IHVzZWQgcm9vbSwgb3IgdGhlIGZpcnN0IG9uZQoKICAgICAgICAgICAgICBjb21taXQoJ3NldEFjdGl2ZVJvb20nLCB7CiAgICAgICAgICAgICAgICBpZDogYWN0aXZlUm9vbS5pZCwKICAgICAgICAgICAgICAgIG5hbWU6IGFjdGl2ZVJvb20ubmFtZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIGNoYXRraXQuc3Vic2NyaWJlVG9Sb29tKGFjdGl2ZVJvb20uaWQpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIGhhbmRsZUVycm9yKGNvbW1pdCwgX2NvbnRleHQ0LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAyMTsKICAgICAgICAgICAgICBjb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5maW5pc2goMjEpOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzEsIDE4LCAyMSwgMjRdXSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbG9naW4oX3g2LCBfeDcpIHsKICAgICAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBsb2dpbjsKICB9KCkKfTs="},{"version":3,"sources":["C:/Users/Adam/PhpstormProjects/FDI-BWEB/untitled3/src/store/actions.js"],"names":["chatkit","handleError","commit","error","message","info","error_description","changeRoom","roomId","subscribeToRoom","id","name","sendMessage","messageId","logout","disconnectUser","window","localStorage","clear","login","userId","state","connectUser","currentUser","username","rooms","map","room","activeRoom"],"mappings":"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","sourcesContent":["import chatkit from '../chatkit';\r\n\r\n// Helper function for displaying error messages\r\nfunction handleError(commit, error) {\r\n    const message = error.message || error.info.error_description;\r\n    commit('setError', message);\r\n}\r\n\r\nexport default {\r\n    async changeRoom({ commit }, roomId) {\r\n        try {\r\n            const { id, name } = await chatkit.subscribeToRoom(roomId);\r\n            commit('setActiveRoom', { id, name });\r\n        } catch (error) {\r\n            handleError(commit, error)\r\n        }\r\n    },\r\n    async sendMessage({ commit }, message) {\r\n        try {\r\n            commit('setError', '');\r\n            commit('setSending', true);\r\n            const messageId = await chatkit.sendMessage(message);\r\n            return messageId;\r\n        } catch (error) {\r\n            handleError(commit, error)\r\n        } finally {\r\n            commit('setSending', false);\r\n        }\r\n    },\r\n    async logout({ commit }) {\r\n        commit('reset');\r\n        chatkit.disconnectUser();\r\n        window.localStorage.clear();\r\n    },\r\n\r\n    async login({ commit, state }, userId) {\r\n        try {\r\n            commit('setError', '');\r\n            commit('setLoading', true);\r\n            // Connect user to ChatKit service\r\n            const currentUser = await chatkit.connectUser(userId);\r\n            commit('setUser', {\r\n                username: currentUser.id,\r\n                name: currentUser.name\r\n            });\r\n            commit('setReconnect', false);\r\n            const rooms = currentUser.rooms.map(room => ({\r\n                id: room.id,\r\n                name: room.name\r\n            }))\r\n            commit('setRooms', rooms);\r\n\r\n            // Subscribe user to a room\r\n            const activeRoom = state.activeRoom || rooms[0]; // pick last used room, or the first one\r\n            commit('setActiveRoom', {\r\n                id: activeRoom.id,\r\n                name: activeRoom.name\r\n            });\r\n            await chatkit.subscribeToRoom(activeRoom.id);\r\n\r\n            return true;\r\n        } catch (error) {\r\n            handleError(commit, error)\r\n        } finally {\r\n            commit('setLoading', false);\r\n        }\r\n    }\r\n}"]}]}