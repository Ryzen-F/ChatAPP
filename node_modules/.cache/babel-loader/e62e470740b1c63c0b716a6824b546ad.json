{"remainingRequest":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\src\\chatkit.js","dependencies":[{"path":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\src\\chatkit.js","mtime":1577463052329},{"path":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Adam\\PhpstormProjects\\FDI-BWEB\\untitled3\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcQWRhbVxcUGhwc3Rvcm1Qcm9qZWN0c1xcRkRJLUJXRUJcXHVudGl0bGVkM1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IENoYXRNYW5hZ2VyLCBUb2tlblByb3ZpZGVyIH0gZnJvbSAiQHB1c2hlci9jaGF0a2l0LWNsaWVudCI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHN0b3JlIGZyb20gIi4vc3RvcmUvaW5kZXgiOwp2YXIgSU5TVEFOQ0VfTE9DQVRPUiA9IHByb2Nlc3MuZW52LlZVRV9BUFBfSU5TVEFOQ0VfTE9DQVRPUiB8fCAidjE6dXMxOmQ4NGNiNGIxLTNiNDYtNDEwZS1iNzU2LTJkOTI1ZjkzOTQ1ZSI7CnZhciBUT0tFTl9VUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1RPS0VOX1VSTCB8fCAiaHR0cHM6Ly91czEucHVzaGVycGxhdGZvcm0uaW8vc2VydmljZXMvY2hhdGtpdF90b2tlbl9wcm92aWRlci92MS9kODRjYjRiMS0zYjQ2LTQxMGUtYjc1Ni0yZDkyNWY5Mzk0NWUvdG9rZW4iOwp2YXIgTUVTU0FHRV9MSU1JVCA9IHBhcnNlSW50KHByb2Nlc3MuZW52LlZVRV9BUFBfTUVTU0FHRV9MSU1JVCkgfHwgMTA7CnZhciBjdXJyZW50VXNlciA9IG51bGw7CnZhciBhY3RpdmVSb29tID0gbnVsbDsKCmZ1bmN0aW9uIGNvbm5lY3RVc2VyKF94KSB7CiAgcmV0dXJuIF9jb25uZWN0VXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfY29ubmVjdFVzZXIoKSB7CiAgX2Nvbm5lY3RVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodXNlcklkKSB7CiAgICB2YXIgY2hhdE1hbmFnZXI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNoYXRNYW5hZ2VyID0gbmV3IENoYXRNYW5hZ2VyKHsKICAgICAgICAgICAgICBpbnN0YW5jZUxvY2F0b3I6IElOU1RBTkNFX0xPQ0FUT1IsCiAgICAgICAgICAgICAgdG9rZW5Qcm92aWRlcjogbmV3IFRva2VuUHJvdmlkZXIoewogICAgICAgICAgICAgICAgdXJsOiBUT0tFTl9VUkwKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBjaGF0TWFuYWdlci5jb25uZWN0KCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjdXJyZW50VXNlciA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGN1cnJlbnRVc2VyKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfY29ubmVjdFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gc2V0TWVtYmVycygpIHsKICB2YXIgbWVtYmVycyA9IGFjdGl2ZVJvb20udXNlcnMubWFwKGZ1bmN0aW9uICh1c2VyKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogdXNlci5pZCwKICAgICAgbmFtZTogdXNlci5uYW1lLAogICAgICBwcmVzZW5jZTogdXNlci5wcmVzZW5jZS5zdGF0ZQogICAgfTsKICB9KTsKICBzdG9yZS5jb21taXQoInNldFVzZXJzIiwgbWVtYmVycyk7Cn0KCmZ1bmN0aW9uIHN1YnNjcmliZVRvUm9vbShfeDIpIHsKICByZXR1cm4gX3N1YnNjcmliZVRvUm9vbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfc3Vic2NyaWJlVG9Sb29tKCkgewogIF9zdWJzY3JpYmVUb1Jvb20gPSBfYXN5bmNUb0dlbmVyYXRvcigKICAvKiNfX1BVUkVfXyovCiAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocm9vbUlkKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBzdG9yZS5jb21taXQoImNsZWFyQ2hhdFJvb20iKTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gY3VycmVudFVzZXIuc3Vic2NyaWJlVG9Sb29tKHsKICAgICAgICAgICAgICByb29tSWQ6IHJvb21JZCwKICAgICAgICAgICAgICBtZXNzYWdlTGltaXQ6IE1FU1NBR0VfTElNSVQsCiAgICAgICAgICAgICAgaG9va3M6IHsKICAgICAgICAgICAgICAgIG9uTWVzc2FnZTogZnVuY3Rpb24gb25NZXNzYWdlKG1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCJhZGRNZXNzYWdlIiwgewogICAgICAgICAgICAgICAgICAgIG5hbWU6IG1lc3NhZ2Uuc2VuZGVyLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IG1lc3NhZ2Uuc2VuZGVySWQsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVzc2FnZS50ZXh0LAogICAgICAgICAgICAgICAgICAgIGRhdGU6IG1vbWVudChtZXNzYWdlLmNyZWF0ZWRBdCkuZm9ybWF0KCJoOm1tOnNzIGEgRC1NTS1ZWVlZIikKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb25QcmVzZW5jZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uUHJlc2VuY2VDaGFuZ2VkKCkgewogICAgICAgICAgICAgICAgICBzZXRNZW1iZXJzKCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb25Vc2VyU3RhcnRlZFR5cGluZzogZnVuY3Rpb24gb25Vc2VyU3RhcnRlZFR5cGluZyh1c2VyKSB7CiAgICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0VXNlclR5cGluZyIsIHVzZXIuaWQpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uVXNlclN0b3BwZWRUeXBpbmc6IGZ1bmN0aW9uIG9uVXNlclN0b3BwZWRUeXBpbmcoKSB7CiAgICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0VXNlclR5cGluZyIsIG51bGwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBhY3RpdmVSb29tID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIHNldE1lbWJlcnMoKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGFjdGl2ZVJvb20pOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX3N1YnNjcmliZVRvUm9vbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBzZW5kTWVzc2FnZShfeDMpIHsKICByZXR1cm4gX3NlbmRNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9zZW5kTWVzc2FnZSgpIHsKICBfc2VuZE1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAvKiNfX1BVUkVfXyovCiAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTModGV4dCkgewogICAgdmFyIG1lc3NhZ2VJZDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyLnNlbmRNZXNzYWdlKHsKICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgICAgICAgIHJvb21JZDogYWN0aXZlUm9vbS5pZAogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIG1lc3NhZ2VJZCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgbWVzc2FnZUlkKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzKTsKICB9KSk7CiAgcmV0dXJuIF9zZW5kTWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gaXNUeXBpbmcocm9vbUlkKSB7CiAgY3VycmVudFVzZXIuaXNUeXBpbmdJbih7CiAgICByb29tSWQ6IHJvb21JZAogIH0pOwp9CgpmdW5jdGlvbiBkaXNjb25uZWN0VXNlcigpIHsKICBjdXJyZW50VXNlci5kaXNjb25uZWN0KCk7Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBjb25uZWN0VXNlcjogY29ubmVjdFVzZXIsCiAgc3Vic2NyaWJlVG9Sb29tOiBzdWJzY3JpYmVUb1Jvb20sCiAgc2VuZE1lc3NhZ2U6IHNlbmRNZXNzYWdlLAogIGlzVHlwaW5nOiBpc1R5cGluZywKICBkaXNjb25uZWN0VXNlcjogZGlzY29ubmVjdFVzZXIKfTs="},{"version":3,"sources":["C:/Users/Adam/PhpstormProjects/FDI-BWEB/untitled3/src/chatkit.js"],"names":["ChatManager","TokenProvider","moment","store","INSTANCE_LOCATOR","process","env","VUE_APP_INSTANCE_LOCATOR","TOKEN_URL","VUE_APP_TOKEN_URL","MESSAGE_LIMIT","parseInt","VUE_APP_MESSAGE_LIMIT","currentUser","activeRoom","connectUser","userId","chatManager","instanceLocator","tokenProvider","url","connect","setMembers","members","users","map","user","username","id","name","presence","state","commit","subscribeToRoom","roomId","messageLimit","hooks","onMessage","message","sender","senderId","text","date","createdAt","format","onPresenceChanged","onUserStartedTyping","onUserStoppedTyping","sendMessage","messageId","isTyping","isTypingIn","disconnectUser","disconnect"],"mappings":"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","sourcesContent":["import { ChatManager, TokenProvider } from \"@pusher/chatkit-client\";\r\nimport moment from \"moment\";\r\nimport store from \"./store/index\";\r\n\r\nconst INSTANCE_LOCATOR =\r\n    process.env.VUE_APP_INSTANCE_LOCATOR ||\r\n    \"v1:us1:d84cb4b1-3b46-410e-b756-2d925f93945e\";\r\nconst TOKEN_URL =\r\n    process.env.VUE_APP_TOKEN_URL ||\r\n    \"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/d84cb4b1-3b46-410e-b756-2d925f93945e/token\";\r\nconst MESSAGE_LIMIT = parseInt(process.env.VUE_APP_MESSAGE_LIMIT) || 10;\r\n\r\nlet currentUser = null;\r\nlet activeRoom = null;\r\n\r\nasync function connectUser(userId) {\r\n    const chatManager = new ChatManager({\r\n        instanceLocator: INSTANCE_LOCATOR,\r\n        tokenProvider: new TokenProvider({ url: TOKEN_URL }),\r\n        userId\r\n    });\r\n    currentUser = await chatManager.connect();\r\n    return currentUser;\r\n}\r\n\r\nfunction setMembers() {\r\n    const members = activeRoom.users.map(user => ({\r\n        username: user.id,\r\n        name: user.name,\r\n        presence: user.presence.state\r\n    }));\r\n    store.commit(\"setUsers\", members);\r\n}\r\n\r\nasync function subscribeToRoom(roomId) {\r\n    store.commit(\"clearChatRoom\");\r\n    activeRoom = await currentUser.subscribeToRoom({\r\n        roomId,\r\n        messageLimit: MESSAGE_LIMIT,\r\n        hooks: {\r\n            onMessage: message => {\r\n                store.commit(\"addMessage\", {\r\n                    name: message.sender.name,\r\n                    username: message.senderId,\r\n                    text: message.text,\r\n                    date: moment(message.createdAt).format(\"h:mm:ss a D-MM-YYYY\")\r\n                });\r\n            },\r\n            onPresenceChanged: () => {\r\n                setMembers();\r\n            },\r\n            onUserStartedTyping: user => {\r\n                store.commit(\"setUserTyping\", user.id);\r\n            },\r\n            onUserStoppedTyping: () => {\r\n                store.commit(\"setUserTyping\", null);\r\n            }\r\n        }\r\n    });\r\n    setMembers();\r\n    return activeRoom;\r\n}\r\n\r\nasync function sendMessage(text) {\r\n    const messageId = await currentUser.sendMessage({\r\n        text,\r\n        roomId: activeRoom.id\r\n    });\r\n    return messageId;\r\n}\r\n\r\nexport function isTyping(roomId) {\r\n    currentUser.isTypingIn({ roomId });\r\n}\r\n\r\nfunction disconnectUser() {\r\n    currentUser.disconnect();\r\n}\r\n\r\nexport default {\r\n    connectUser,\r\n    subscribeToRoom,\r\n    sendMessage,\r\n    isTyping,\r\n    disconnectUser\r\n};"]}]}